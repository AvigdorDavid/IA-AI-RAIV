
<!DOCTYPE html>
<html>
<head>
	<title>Automated Emperor</title>
	<link rel="stylesheet" type="text/css" href="stylesheets/styles.css" />
</head>
<body onload="pageLoad()">

<button id="myBtn">Open Instruction Steps</button>
<br><br>

	<b>Ally/Villain Packs</b>
	<form id="expacoptions" action="#" method="post" onsubmit="return false">
			<input type="checkbox" name="AgentBlaise" value="AgentBlaise"> Agent Blaise<br>
			<input type="checkbox" name="AllianceSmuggler" value="AllianceSmuggler"> Alliance Smuggler<br>
		<!--Insert more expacs here
		-->

		
  		<button onClick="expacCheck()">Choose</button>
	</form>
	
	<br>
	
	<div id="missionSelector">
	<b>Core Missions</b>
		<form id="missionOptions" action="#" method="post" onsubmit="return false">
			<input type="radio" name="mission" value="Aftermath">Aftermath<br>
			<input type="radio" name="mission" value="Captured">Captured<br>
			<input type="radio" name="mission" value="Brushfire">Brushfire<br>
			<input type="radio" name="mission" value="Temptation">Temptation<br>
			<input type="radio" name="mission" value="HighMoon">High Moon<br>
			<input type="radio" name="mission" value="Indebted">Indebted<br>
			<input type="radio" name="mission" value="LooseCannon">Loose Cannon<br>
			<input type="radio" name="mission" value="FriendsOfOld">Friends Of Old<br>
			<input type="radio" name="mission" value="SorryAboutTheMess">Sorry About the Mess<br>
			<input type="radio" name="mission" value="Homecoming">Homecoming<br>
			<input type="radio" name="mission" value="TheSpiceJob">The Spice Job<br>
			<input type="radio" name="mission" value="TargetofOpportunity">Target Of Opportunity<br>
			<input type="radio" name="mission" value="VipersDen">Viper's Den<br>
			<input type="radio" name="mission" value="ASimpleTask">A Simple Task<br>
			<input type="radio" name="mission" value="GenerousDonations">Generous Donations<br>
			<input type="radio" name="mission" value="LuxuryCruise">Luxury Cruise<br>
			<input type="radio" name="mission" value="MeansOfProduction">Means of Production<br>
			<input type="radio" name="mission" value="BreakingPoint">Breaking Point<br>
			<input type="radio" name="mission" value="Impounded">Impounded<br>
			<input type="radio" name="mission" value="Wanted">Wanted<br>
			<input type="radio" name="mission" value="ANewThreat">A New Threat<br>
			<input type="radio" name="mission" value="UnderSiege">Under Siege<br>
			<input type="radio" name="mission" value="ImperialHospitality">Imperial Hospitality<br>
			<input type="radio" name="mission" value="FlySolo">Fly Solo<br>
			<input type="radio" name="mission" value="Incoming">Incoming<br>
			<input type="radio" name="mission" value="DrawnIn">Drawn In<br>
			<input type="radio" name="mission" value="ChainOfCommand">Chain of Command<br>
			<input type="radio" name="mission" value="TheSource">The Source<br>
			<input type="radio" name="mission" value="LastStand">Last Stand<br>
			<input type="radio" name="mission" value="DesperateHour">Desperate Hour<br>
		<!--Insert more expacs here
		-->

		
			<button onClick="missionSelect()">Choose</button>
		</form>
	
	<br>
	</div>

	
	

<p id="demo">List to be replaced here</p>
<p id="demo2">List2 to be replaced here</p>

<img id="MilitaryMight" src="files/ImpClass/MilitaryMight.jpg" width="175" height="298" onclick="MMsel()"></img>
<img id="SubversiveTactics" src="files/ImpClass/SubversiveTactics.jpg" width="175" height="298" onclick="STsel()"></img>
<img id="TechnologicalSuperiority" src="files/ImpClass/TechnologicalSuperiority.jpg" width="175" height="298" onclick="TSsel()"></img>

<div id="Blitz">
	<h3> Drawn Automated Emperor/Blitz Card: </h3>
	
	<form id="blitzDraw" action="#" method="post" onsubmit="return false">
  		<button onClick="displayBlitzCards()">Draw Automated Emperor Card</button>
	</form>
	
	<form id="blitzReshuffle" action="#" method="post" onsubmit="return false">
  		<button onClick="shuffleBlitzCards()">Reshuffle Automated Emperor deck</button>
	</form>
	<br>
	
	<br>
	
	Adjust Blitz Cards (WILL RESHUFFLE DECK!!!) - Add one when Imperial loses a mission (applies every lost mission)
	
	<p id ="blitzLevelIntText"> </p>
	
	<form id="blitzIncForm" action="#" method="post" onsubmit="return false">
  		<button onClick="blitzInc()">+</button>
	</form>
	<form id="blitzDecForm" action="#" method="post" onsubmit="return false">
  		<button onClick="blitzDec()">-</button>
	</form>
	<br>
	
	
	<img id="currentBlitzImg"></img>


</div>


<div id="Deployment">

<h3> Drawn Deployment Card for OPEN GROUP: </h3>

	<form id="deployment" action="#" method="post" onsubmit="return false">
  		<button onClick="displayDeploymentCards()">Draw deployment</button>
	</form>
	
	<form id="deploymentreshuffle" action="#" method="post" onsubmit="return false">
  		<button onClick="shuffleDeploymentCards()">Reshuffle deployment deck</button>
	</form>
	<br>
	
	Adjust campaign threat level (WILL RESHUFFLE DECK!!!)
	
	<p id ="deployDiffInt"> </p>
	
	<form id="deploymentDiffInc" action="#" method="post" onsubmit="return false">
  		<button onClick="deploymentInc()">+</button>
	</form>
	<form id="deploymentDiffDec" action="#" method="post" onsubmit="return false">
  		<button onClick="deploymentDec()">-</button>
	</form>
	<br>
	

	
	<!--
	Placeholder for image, when card is drawn
	-->
	<img id="deployImg">
	</img>

</div>

<div id="Imperial Class div">

<h3>Selected Imperial Class</h3>

<p id="selImpClass">None Selected</p>

	<img id="IC1"></img><img id="IC2"></img><img id="IC3"></img><img id="IC4"></img><img id="IC5"></img><img id="IC6"></img><img id="IC7"></img><img id="IC8"></img><img id="IC9"></img>

</div>

<div id="Mission Staging">
	<h3>Current Mission</h3>
	
	<img id="missionFront"></img><img id="missionBack"></img>
</div>

<!--
PLACE INSTRUCTIONS ON HOW TO USE HERE!!!!

-->

	<div id="myModal" class="modal">

	<!-- Modal content -->
		<div class="modal-content">
			<div class="modal-header">
				<span class="close">&times</span>
				<h2>Instructions on using Automated Emperor</h2>
			</div>
			<div class="modal-body">
				<div id="instructionsteps">
					<div id="setup" class="setupDivClass">
						<h2>Setup</h2>
							<ol>
								<li>Automated Emperor Deck
									<ul>
										<li>Set Blitz level (2 at beginning of campaign)</li>
										<li>Start at 2 at campaign start, increase by one for each mission Imperials lose</li>
										<li>When drawn, deployment group focuses on Priority Target, regardless of if they would assigned one by mission card </li>
										<li>Secondary Target is closest Rebel figure with least health </li>
										<li>Resolve actions in listed order on Blitz Cards</li>
									</ul>
								</li>
								<li>Deployment Deck
									<ul>
										<li>Draw cards equal to indicated number of open groups noted on mission to form deployment hand</li>
										<li>If no open groups, no cards are drawn</li>
										<li>When deployment group is defeated, shuffle back into deployment hand</li>
										<li>When given AE has an opportunity to resolve an optional deployment at mission start, deploy a card starting from top of 
											deployment hand	if sufficient threat.</li>
										<li>If insufficient threat, cycle through deployment hand until able to deploy a card.</li>
									</ul>
								</li>
								<li>Threat Level
									<ul>
										<li>Increase threat level as noted in campaign</li>
									</ul>
								</li>
								<li>Agenda Deck
									<ul>
										<li>Choose one card from each Agenda set that applies to time period</li>
										<li>Draw top 6 cards to determine which agenda sets are used by AE</li>
										<li>Shuffle all cards from chosen sets to form Agenda Deck</li>
									</ul>
								</li>
								<li>Rebel Color Assignment
									<ul>
										<li>Assign each rebel character with a color of: Blue, Yellow, Green, Red</li>
									</ul>
								</li>
								<li>Mission Cards
									<ul>
										<li>Select the mission being played</li>
										<li>Follow instructions on green for setup</li>
										<li>Mission cards will notify when to use red side</li>
									</ul>
								</li>
								<li>Imperial Class Deck
									<ul>
										<li>Randomly select one of the class decks for AE to use</li>
									</ul>
								</li>
							</ol>
					</div>
				</div>
				<div id="Instructions">
					<div id="Activation Phase">
						<h3>Activation Phase and Deployment Groups</h3>
							<ul>
								<li> During a round, AE activates deployment groups in order from left to right.</li>
								<li> Figures are activated starting with one closest to a hero or priority target </li>
							</ul>
							<ol>
								<li><h4>Automated Emperor Cards</h4>
									<ul>
										<li>An AE card is drawn whenever AE activates a deployment group</li>
										<li>Follow actions on drawn card to determine actions</li>
										<li>A card can also be drawn when needing to determine a target outside of figure activation</li>
										<li>Hit reshuffle when all cards are drawn</li>
									</ul>
								</li>
								<li><h4>Blitz Cards</h4>
									<ul>
										<li>Blitz cards are part of the AE deck</li>
										<li>When drawn deployment group focuses on Imperial Priority Target, regardless of group being assigned a target by mission card</li>
										<li>Closest rebel figure with least health is designated as secondary target</li>
										<li>All figures in deployment group attempt to resolve actions in listed order on Blitz card</li>
										<li>If drawn to determine a target outside figure activation, target will be the rebel figure with least health. Threat is still gained as indicated</li>
									</ul>
								</li>
								<li><h4>Imperial Class Cards</h4>
									<ul>
										<li>Cards bought by AE are arranged left to right by point cost</li>
										<li>They are played at FIRST valid opportunity, starting from the left</li>
										<li>When a deployment card leaves play, return any attachments to Imperial Class hand</li>
										<li>Attachments with abilities can be triggered when the corresponding figure resolves an <b>ABILITY</b> action on an AE card</li>
										<li>Attachments are played when a new deployment card is played only if valid</li>
										<li>Cards with threat cost are only played if AE has twice the required threat</li>
									</ul>
								</li>
								<li><h4>Agenda Cards</h4>
									<ul>
										<li>Agenda Cards are also arranged left to right, and played at first valid opportunity</li>
										<li>If card can be discarded <b>OR</b> returned to deck after being played, it is discarded</li>
										<li>Side missions are played immediately</li>
										<li>If there is a current Imperial side mission, new side missions are held in reserve until current mission is complete</li>
										<li>However, <b>forced</b> side missions are played immediately regardless if there is another Imperial side mission in play</li>
									</ul>
								</li>
							</ol>
					</div>
					<div id="Choosing Targets">
						<h3>Choosing Targets</h3>
						<ul class="tutoriallist">
							<li>Target choice is determine by mission card and automated emperor card drawn at 
							start of a group's activation
							</li>
							<li>Priority targets will always be targeted before any other targets</li>
							<li>If a figure is not assigned a priority target, or priority target is not in range, 
							figure attempts to resolve action against a Secondary Target</li>
							<li>Secondary targets are shown as Rebel icons on the Automated Emperor card, 
							and resolved left to right</li>
							<li>If no priority or secondary targets are available, closest rebel controlled 
							figure with least health is targeted</li>
						</ul>
					</div>
					<div id="AEActions">
						<h3>Automated Emperor Card Actions</h3>
						
						Attempt to resolve actions on drawn Automated Emperor card in listed order. 
						Standard action rules apply. Actions that cannot be completed or don't apply are skipped. 
						If bottom of list is reached and actions are still remaining, start from top of list. <br>
						
						<ul id="AEList">
							<li>Attack
								<ol>
									<li>Closest assigned priority target</li>
									<li>1st Secondary Target within range</li>
									<li>Closes Rebel-controlled figure with least health</li>
								</ol>
							</li>
							<li>Range Definition
								<ul>
									<li><b>Melee </b>: Adjacent space</li>
									<li><b>Reach </b>: 2 spaces</li>
									<li><b>Ranged </b>: 4 spaces</li>
									<li>Non-surge +Accuracy modifiers are added to figure's max attack range</li>
									<li>If no targets are in range/line of sight, Attack action is skipped</li>
									<li>If priority target is not attackable, attack action becomes interact</li>
									<li>Attack action becomes interact, in the case of doors</li>
								</ul>
							</li>
							<li>Engage
								<ul>
									<li>Move action to figure's speed</li>
									<li>
										<ol>
											<li>Attempt for max attack range & line of sight, using shortest route</li>
											<li>Move towards closest assigned priority target as much as possible, 
									regardless of distance</li>
											<li>Move toward closest secondary target as list if no priority target</li>
										</ol>
									</li>
									<li>Move through opposing figures if necessary if there are enough move points</li>
								</ul>
							</li>
							<li>Ability
								<ul>
									<li>Activate ability if it makes sense</li>
									<li>Includes attached Modification Imperial Class cards</li>
									<li>Resolve in order as listed on deployment card</li>
								</ul>
							
							</li>
							<li>Repositioning
								<ul>
									<li>Utilize any remaining move points to reposition to better position</li>
									<li><b>Melee </b>: Break line of sight of ranged rebels </li>
									<li><b>Reach </b>: Move to be 2 spaces away from nearby rebels </li>
									<li><b>Ranged </b>: Move to be up to 4 spaces away from nearby rebels. 
									Use cover if possible </li>
									<li>Attempt to move towards closest Priority target if assigned 
									and not already in max attack range and line of sight</li>
								</ul>
							</li>
							<li>Surges
								<ol>
									<li>Spend to increase accuracy to hit</li>
									<li>Double Surges</li>
									<li>Apply remaining from left to right, top to bottom on deployment card</li>
								</ol>
							
							</li>
						
						</ul>
							<div id="conditionsText">
							<h3>Conditions</h3>
								<ul id="conditionslist">
									<li>If an Imperial figure has condition that requires action to remove, they will use an action 
									at start of activation to remove it</li>
								</ul>
							</div>
							<div id="statusPhaseText">
								<h3>Status Phase</h3>
									<ul>
										<li>During Status Phase, AE will reinforce an existing deployment group, or deploy a new group</li>
										<li>If there are 4 or more deployment groups in play, or no cards in the deployment hand, it will attempt to reinforce 
										a deployment group</li>
										<li>If there are fewer than 4 deployment groups, it will attempt to deploy a new group.
										<li>Reinforcements are placed at the closest Imperial spawn point to the heros</li>
										<li>
											<ul><h4>Reinforcement</h4>
												<li>Locate the first deployment group in play starting from the left that can accept reinforcements</li>
												<li>Reinforce with as many units as possible</li>
												<li>If reinforcements are placed, AE will not attempt to deploy new groups</li>
												<li>If is an inadequet amount of threat, AE will save it for next status phase</li>
											</ul>
										</li>
										<li>
											<ul><h4>Deployment</h4>
												<li>Draw top card of deployment hand</li>
												<li>If AE has enough threat to deploy, do so</li>
												<li>Place deployment card right of any in play</li>
												<li>If there is not enough theat, place the deployment card at the bottom of the deployment hand 
												and save threat for next status phase</li>
											</ul>
										</li>
									</ul>
							</div>
						</div>
				</div>
			</div>
			<div class="modal-footer">
				<p>Web app developed by <a href="https://github.com/kckaiwei">Kevin Chang</a> Automated Emperor Cards by <a href="https://boardgamegeek.com/user/RedJak7">RedJak7</a></p>
			</div>
			
		</div>
	</div>

<script type='text/javascript'>

		//MESS AHEAD! Should've started it modular. TODO

		//SETUP
		//MESS OF VARS
		var expacCardsList = [];
		//grabs expansion packs form.
		var expacoptions = document.getElementById('expacoptions');
		//blitz cards filenames
		var blitzCards = ["Blitz 1","Blitz 2","Blitz 3","Blitz 4","Blitz 5", "Blitz 6","Blitz 7","Blitz 8","Blitz 9","Blitz 10"];
		var blitzColors = ["Blue", "Gold", "Green", "Red"];
		var coreImpBelow6Standard = ["ProbeDroid","Stormtrooper","ImpOfficer","EWebEngi","ELImpOfficer","ELProbeDroid"];
		var coreImp6_8Standard = ["RoyalGuard","ELEWebEngi"];
		var coreImp8_12Standard = ["ELStormtrooper","ELRoyalGuard"];
		var coreImpNonUnique12Up = ["AT-ST"];
		var coreScumBelow6Standard = ["Nexu", "ELNexu"];
		var coreScum6_8Standard = ["TrandoshanHunter"];
		var coreScum8_12Standard = ["ELTrandoshanHunter"];
		var coreScumNonUnique12Up = [];
		
		//Difficulty Settings
		//deployment threat level (starts at 2)
		//2-6below; 3-8below; 4-12below; 5+ -all non-unique
		var deploymentDiff = 2;
		
		
		//New deck
		//Load first, then call durstenfeld shuffle
		var deck = [];
		//Used when resetting deck to draw
		var savedBlitzDeck = [];
		
		//DECK SHUFFLE
		
		//BLITZ DECK MANAGEMENT
		//Starting number of cards
		var blitzCardsInt = 2;
		
		function randomCardNumberDraw(min,max){
			//Takes min max integer to randomize from
			return Math.floor(Math.random()*(max-min+1)+min);
		}
		
		//DEPLOYMENT DECK MANAGEMENT
		var deployDeck = [];
		//Copy of shuffled deploy Deck
		//Use when resetting deck to draw
		var savedDeployDeck = [];
		var blitzCardsDeckClone = [];
		
		//ON PAGE LOAD FUNCTIONS
		function pageLoad(){
			deployDeck = deployDeck.concat(coreImpBelow6Standard);
			deployDeck = deployDeck.concat(coreScumBelow6Standard);
			deployDeck = shuffleArray(deployDeck.slice(0));
			//clone deployment deck and save it to saved blitz deck
			savedDeployDeck = deployDeck.slice(0);
			document.getElementById('deployDiffInt').innerHTML = deploymentDiff;
			//Test to show shuffled
			//document.getElementById('demo2').innerHTML = deployDeck;
				
			
			//BLITZ CARD ON LOAD SECTION
			//Randomly pick Blitz Cards
			//To current blitz level
			//clone blitz card's deck to shuffle and POP
			blitzCardsDeckClone = shuffleArray(blitzCards.slice(0));
			
			for (var i=0, len=blitzCardsInt; i<blitzCardsInt; i++){
			//10 cards to pick from, randomly picks one
				deck.push(blitzCardsDeckClone.pop());

			}
		
		
			//Load up blitz color focus cards
			for (var i=0; i<blitzColors.length; i++){
				for (var j=1; j<7; j++){
					deck.push(String(blitzColors[i]) + " " + String(j));
				}
			}
			deck = shuffleArray(deck.slice(0));
			//clone deck and save it to saved blitz deck
			savedBlitzDeck = deck.slice(0);
			document.getElementById('demo').innerHTML = deck;
			document.getElementById('blitzLevelIntText').innerHTML = blitzCardsInt;
			
			//END BLITZ CARD ON LOAD SECTION
			//
			//
			
		}
		
		//END VAR SETUP
		//
		//
		
		//HELPER FUNCTIONS
		//Durstenfeld shuffle
		//ALWAYS CLONE!!!!!! array = array.slice(0)
		//Somehow losing first and last index if not using clone.
		function shuffleArray(array) {
			for (var i = array.length - 1; i > 0; i--) {
				var j = Math.floor(Math.random() * (i + 1));
				var temp = array[i];
				array[i] = array[j];
				array[j] = temp;
			}
			return array;
		}
		
		//adding image function
		//GENERIC TEMPLATE!!! MODIFY AS NEEDED
		function show_image(src, width, height, alt) {
			var img = document.createElement("img");
			img.src = src;
			img.width = width;
			img.height = height;
			img.alt = alt;

			// This next line will just add it to the <body> tag
			document.body.appendChild(img);
		}
		
		//IMAGE REPLACE
		//replaces an img ALREADY on the page, by page id
		function replace_image(src, width, height, alt, pageID) {
			img = document.getElementById(String(pageID));
			img.src = src;
			img.width = width;
			img.height = height;
			img.alt = alt;

		}
		//END HELPER FUNCTIONS
		
		//MAIN BODY
		//
		//responds to click from submit button
		function expacCheck(){
			//checks which checkboxes are clicked
			//
			//Resets to blank list
			expacCardsList = [];
			for (var i=0, len=expacoptions.length; i<len; i++) {
		    	if ( expacoptions[i].type === 'checkbox' ) {
					if (expacoptions[i].checked) {
						expacCardsList.push(expacoptions[i].value);
					}
				}
			}
			document.getElementById('demo').innerHTML = expacCardsList;
		}
		
		//MISSION SELECTION RADIO BUTTONS
		//
		function missionSelect(){
			for (var i=0, len=missionOptions.length; i<len; i++){
				if (missionOptions[i].type === 'radio'){
					if (missionOptions[i].checked){
						replace_image("files/Mission/Core/" + missionOptions[i].value + "Front.jpg", 298, 430, "Mission Front", "missionFront");
						replace_image("files/Mission/Core/" + missionOptions[i].value + "Back.jpg", 298, 430, "Mission Back", "missionBack");
					}
				}
			}
		
		}
		
		//DEPLOYMENT SECTION
		//responds to deployment display click
		function displayDeploymentCards(){
			//checks to see if there is something left in deck
			if (deployDeck[0]){
				var poppedItem = String(deployDeck.pop());
				var imgSrc = "files/Deployment/Core/" + poppedItem + ".jpg";
				document.getElementById('demo2').innerHTML = deployDeck;
				replace_image(imgSrc, 335, 523, imgSrc, "deployImg");
			}
		}
		
		//reshuffles deployment cards using saved copy
		function shuffleDeploymentCards(){
			savedDeployDeck = shuffleArray(savedDeployDeck.slice(0));
			deployDeck = savedDeployDeck.slice(0);
			document.getElementById('demo2').innerHTML = deployDeck;
		}
		
		//increase deployment difficulty
		//calls reshuffle and adds required cards
		function deploymentInc(){
			deploymentDiff = deploymentDiff + 1;
			readjustDiff();
			document.getElementById('deployDiffInt').innerHTML = deploymentDiff;
			document.getElementById('demo2').innerHTML = deployDeck;
		}
		
		//decrease deployment difficulty
		//calls reshuffle and adds required cards
		function deploymentDec(){
			if (deploymentDiff > 2){
				deploymentDiff = deploymentDiff - 1 ;
				readjustDiff();
				document.getElementById('deployDiffInt').innerHTML = deploymentDiff;
				document.getElementById('demo2').innerHTML = deployDeck;
			}
		}
		
		function readjustDiff(){
			if (deploymentDiff >= 2) {
				//reset deployDeck
				deployDeck = [];
				deployDeck = deployDeck.concat(coreImpBelow6Standard);
				deployDeck = deployDeck.concat(coreScumBelow6Standard);
				addDeployNonCore2Threat();
			}
			
			if (deploymentDiff >= 3){
				deployDeck = deployDeck.concat(coreImp6_8Standard);
				deployDeck = deployDeck.concat(coreScum6_8Standard);
				addDeployNonCore3Threat();
			
			
			}
			
			if (deploymentDiff >= 4){
				deployDeck = deployDeck.concat(coreImp8_12Standard);
				deployDeck = deployDeck.concat(coreScum8_12Standard);
				addDeployNonCore4Threat();
			
			
			}
			
			//5 is max
			if (deploymentDiff >= 5){
				deployDeck = deployDeck.concat(coreImpNonUnique12Up);
				deployDeck = deployDeck.concat(coreScumNonUnique12Up);
				addDeployNonCore5Threat();
			
			
			}
			
			deployDeck = shuffleArray(deployDeck);
			savedDeployDeck = deployDeck.slice(0);
			
		}
		
		//Add expacs 2 threat deployment cards
		function addDeployNonCore2Threat(){
		
		}
		
		//Adds expacs 3 threat deployment cards
		function addDeployNonCore3Threat(){
		
		}
		
		function addDeployNonCore4Threat(){
		
		}
		
		function addDeployNonCore5Threat(){
		
		}
		
		//
		//END DEPLOYMENT SECTION
		//
		
		//
		//BEGIN BLITZ/AUTOMATED EMPEROR SECTION
		//
		
		function displayBlitzCards(){
			//checks to see if there is something left in deck
			if (deck[0]){
				var poppedItem = String(deck.pop());
				var imgSrc = "files/AE/" + poppedItem + ".jpg";
				document.getElementById('demo').innerHTML = deck;
				replace_image(imgSrc, 335, 523, imgSrc, "currentBlitzImg");
			}
		}
		
		//reshuffles deployment cards using saved copy
		function shuffleBlitzCards(){
			savedBlitzDeck = shuffleArray(savedBlitzDeck);
			deck = savedBlitzDeck.slice(0);
			document.getElementById('demo').innerHTML = deck;
		}
		
		function blitzInc(){
			//Did not know javascript takes +=, too late now.
			if (blitzCardsInt < 10) {
				blitzCardsInt = blitzCardsInt + 1;
				blitzReadjust();
			}
			document.getElementById('blitzLevelIntText').innerHTML = blitzCardsInt;			
		}
		
		function blitzDec(){
			//Did not know javascript takes +=, too late now.
			if (blitzCardsInt > 2){
				blitzCardsInt = blitzCardsInt - 1;
				blitzReadjust();
			}
			document.getElementById('blitzLevelIntText').innerHTML = blitzCardsInt;
		}
		
		function blitzReadjust(){
			//First, clear deck
			deck = [];
			//reshuffle blitzCardsDeckClone
			//reset + shuffle then pop from it to ensure random draw
			blitzCardsDeckClone = [];
			//must clone with .slice(0)
			//shufflearray modifies original and messes up somehow.
			blitzCardsDeckClone = shuffleArray(blitzCards.slice(0));
			//push in cards as needed
			for (var i=0; i<blitzCardsInt; i++){
			//10 cards to pick from, randomly picks one
				deck.push(blitzCardsDeckClone.pop());

			}
		
		
			//Load up blitz color focus cards; always same amount
			for (var i=0; i<blitzColors.length; i++){
				for (var j=1; j<7; j++){
					deck.push(String(blitzColors[i]) + " " + String(j));
				}
			}
			deck = shuffleArray(deck);
			//clone deck and save it to saved blitz deck
			//reset savedBlitzDeck before reusing
			savedBlitzDeck = [];
			savedBlitzDeck = deck.slice(0);
			document.getElementById('demo').innerHTML = deck;
			document.getElementById('demo2').innerHTML = blitzCards;

		}
		
		//END BLITZ/AUTOMATED EMPEROR SECTION
		
		
		//BEGIN IMPERIAL CLASS SECTION
		//
		//
		//for loop doesn't work, wtf. Maybe due to replace_image() needs tag
		function MMsel(){
			document.getElementById('selImpClass').innerHTML = "Military Might";
			replace_image("files/ImpClass/MM1.jpg", 298, 430, "MM", "IC1");
			replace_image("files/ImpClass/MM2.jpg", 298, 430, "MM", "IC2");
			replace_image("files/ImpClass/MM3.jpg", 298, 430, "MM", "IC3");
			replace_image("files/ImpClass/MM4.jpg", 298, 430, "MM", "IC4");
			replace_image("files/ImpClass/MM5.jpg", 298, 430, "MM", "IC5");
			replace_image("files/ImpClass/MM6.jpg", 298, 430, "MM", "IC6");
			replace_image("files/ImpClass/MM7.jpg", 298, 430, "MM", "IC7");
			replace_image("files/ImpClass/MM8.jpg", 298, 430, "MM", "IC8");
			replace_image("files/ImpClass/MM9.jpg", 298, 430, "MM", "IC9");
		}
		
		function STsel(){
			document.getElementById('selImpClass').innerHTML = "Subversive Tactics";
			replace_image("files/ImpClass/ST1.jpg", 298, 430, "ST", "IC1");
			replace_image("files/ImpClass/ST2.jpg", 298, 430, "ST", "IC2");
			replace_image("files/ImpClass/ST3.jpg", 298, 430, "ST", "IC3");
			replace_image("files/ImpClass/ST4.jpg", 298, 430, "ST", "IC4");
			replace_image("files/ImpClass/ST5.jpg", 298, 430, "ST", "IC5");
			replace_image("files/ImpClass/ST6.jpg", 298, 430, "ST", "IC6");
			replace_image("files/ImpClass/ST7.jpg", 298, 430, "ST", "IC7");
			replace_image("files/ImpClass/ST8.jpg", 298, 430, "ST", "IC8");
			replace_image("files/ImpClass/ST9.jpg", 298, 430, "ST", "IC9");
			
		}
		
		function TSsel(){
			document.getElementById('selImpClass').innerHTML = "Technological Superiority";
			replace_image("files/ImpClass/TS1.jpg", 298, 430, "TS", "IC1");
			replace_image("files/ImpClass/TS2.jpg", 298, 430, "TS", "IC2");
			replace_image("files/ImpClass/TS3.jpg", 298, 430, "TS", "IC3");
			replace_image("files/ImpClass/TS4.jpg", 298, 430, "TS", "IC4");
			replace_image("files/ImpClass/TS5.jpg", 298, 430, "TS", "IC5");
			replace_image("files/ImpClass/TS6.jpg", 298, 430, "TS", "IC6");
			replace_image("files/ImpClass/TS7.jpg", 298, 430, "TS", "IC7");
			replace_image("files/ImpClass/TS8.jpg", 298, 430, "TS", "IC8");
			replace_image("files/ImpClass/TS9.jpg", 298, 430, "TS", "IC9");
		}
		
		//
		//END IMPERIAL CLASS SECTION
		//
		
		
		//MODAL SECTION BEGIN
		//
		
		// Get the modal
		var modal = document.getElementById('myModal');

		// Get the button that opens the modal
		var btn = document.getElementById("myBtn");

		// Get the <span> element that closes the modal
		var span = document.getElementsByClassName("close")[0];

		// When the user clicks on the button, open the modal 
		btn.onclick = function() {
			modal.style.display = "block";
		}

		// When the user clicks on <span> (x), close the modal
		span.onclick = function() {
			modal.style.display = "none";
		}

		// When the user clicks anywhere outside of the modal, close it
		window.onclick = function(event) {
			if (event.target == modal) {
				modal.style.display = "none";
			}
		}

		//END MODAL SECTION
		//
		
		
	</script>

</body>

</html>
