
<!DOCTYPE html>
<html>
<head>
	<title>Automated Emperor</title>
</head>
<body onload="pageLoad()">
	<form id="expacoptions" action="#" method="post" onsubmit="return false">
			<input type="checkbox" name="AgentBlaise" value="AgentBlaise"> Agent Blaise<br>
			<input type="checkbox" name="AllianceSmuggler" value="AllianceSmuggler"> Alliance Smuggler<br>
		<!--Insert more expacs here
		-->

		
  		<button onClick="expacCheck()">Choose</button>
	</form>
	
	<br>

	
	<script type='text/javascript'>
		//SETUP
		//VAR
		var expacCardsList = [];
		//grabs expansion packs form.
		var expacoptions = document.getElementById('expacoptions');
		//blitz cards filenames
		var blitzCards = ["Blitz 1","Blitz 2","Blitz 3","Blitz 4","Blitz 5", "Blitz 6","Blitz 7","Blitz 8","Blitz 9","Blitz 10"];
		var coreImpBelow6Standard = ["ProbeDroid","Stormtrooper","ImpOfficer","EWebEngi","ELImpOfficer","ELProbeDroid"];
		var coreImp6_8Standard = ["RoyalGuard","ELEWebEngi"];
		var coreImp8_12Standard = ["ELStormtrooper","ELRoyalGuard"];
		var coreImpNonUnique12Up = ["AT-ST"];
		var coreScumBelow6Standard = ["Nexu", "ELNexu"];
		var coreScum6_8Standard = ["TrandoshanHunter"];
		var coreScum8_12Standard = ["ELTrandoshanHunter"];
		var coreScumNonUnique12Up = [];
		//New deck
		//Load first, then call durstenfeld shuffle
		var deck = [];
		
		//DECK SHUFFLE
		
		//BLITZ DECK MANAGEMENT
		//Starting number of cards
		var startCardNum = 2;
		
		
		//Randomly pick Blitz Cards
		for (var i=0, len=startCardNum; i<startCardNum;i++){
			//10 cards to pick from, randomly picks one
			deck.push("Blitz " + randomCardNumberDraw(1,10));
		}
		
		
		//Load up focus cards
		for (var i=0, len=startCardNum; i<startCardNum;i++){
			//10 cards to pick from, randomly picks one
			deck.push("Blitz " + randomCardNumberDraw(1,10));
		}
		
		function randomCardNumberDraw(min,max){
			//Takes min max integer to randomize from
			return Math.floor(Math.random()*(max-min+1)+min);
		}
		
		//DEPLOYMENT DECK MANAGEMENT
		var deployDeck = [];
		//Copy of shuffled deploy Deck
		//Use when resetting deck to draw
		var savedDeployDeck = [];
		
		//ON PAGE LOAD FUNCTIONS
		function pageLoad(){
			deployDeck = deployDeck.concat(coreImpBelow6Standard);
			deployDeck = deployDeck.concat(coreScumBelow6Standard);
			deployDeck = shuffleArray(deployDeck);
			//Test to show shuffled
			//document.getElementById('demo2').innerHTML = deployDeck;
		}
		
		
		
		//END VAR SETUP
		//
		//
		//HELPER FUNCTIONS
		//Durstenfeld shuffle
		function shuffleArray(array) {
			for (var i = array.length - 1; i > 0; i--) {
				var j = Math.floor(Math.random() * (i + 1));
				var temp = array[i];
				array[i] = array[j];
				array[j] = temp;
			}
			return array;
		}
		
		//adding image function
		//GENERIC TEMPLATE!!! MODIFY AS NEEDED
		function show_image(src, width, height, alt) {
			var img = document.createElement("img");
			img.src = src;
			img.width = width;
			img.height = height;
			img.alt = alt;

			// This next line will just add it to the <body> tag
			document.body.appendChild(img);
		}
		
		//IMAGE REPLACE
		function replace_image(src, width, height, alt, pageTag) {
			img = document.getElementById(String(pageTag));
			img.src = src;
			img.width = width;
			img.height = height;
			img.alt = alt;

		}
		
		//MAIN BODY
		//
		//responds to click from submit button
		function expacCheck(){
			//checks which checkboxes are clicked
			//
			//Resets to blank list
			expacCardsList = [];
			for (var i=0, len=expacoptions.length; i<len; i++) {
		    	if ( expacoptions[i].type === 'checkbox' ) {
					if (expacoptions[i].checked) {
						expacCardsList.push(expacoptions[i].value);
					}
				}
			}
			document.getElementById('demo').innerHTML = expacCardsList;
		}
		//responds to deployment display click
		function displayDeploymentCards(){
			//checks to see if there is something left in deck
			if (deployDeck[0]){
				var poppedItem = String(deployDeck.pop());
				var imgSrc = "files/Deployment/Core/" + poppedItem + ".jpg";
				document.getElementById('demo2').innerHTML = deployDeck;
				replace_image(imgSrc, 335, 523, imgSrc, "deployImg");
			}
		}
		
		
	</script>

<p id="demo">List to be replaced here</p>
<p id="demo2">List2 to be replaced here</p>

<div id="Deployment">

<h3> Drawn Deployment Card: </h3>

	<form id="deployment" action="#" method="post" onsubmit="return false">
  		<button onClick="displayDeploymentCards()">Draw deployment</button>
	</form>
	<br>

<img id="deployImg">
</img>

</div>

</body>

</html>
